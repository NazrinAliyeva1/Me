@model List<GetSliderAdminVM>
  <h5 class="card-title fw-semibold mb-4">Slider</h5>
  <a asp-action="Create" class="btn btn-outline-success m-1 float-end mb-2 ">Create</a>
  <div class="table-responsive w-100">
    <table class="table table-bordered text-nowrap mb-0 align-middle">
      <thead class="text-dark fs-4">
        <tr>
          <th class="border-bottom-0">
            <h6 class="fw-semibold mb-0">Id</h6>
          </th>
          <th class="border-bottom-0">
            <h6 class="fw-semibold mb-0">Image</h6>
          </th>
          <th class="border-bottom-0">
            <h6 class="fw-semibold mb-0">Title</h6>
          </th>
          <th class="border-bottom-0">
            <h6 class="fw-semibold mb-0">Subtitle</h6>
          </th>
          <th class="border-bottom-0">
            <h6 class="fw-semibold mb-0">Discount</h6>
          </th>
          <th class="border-bottom-0">
            <h6 class="fw-semibold mb-0">CreatedTime</h6>
          </th>
          <th class="border-bottom-0">
            <h6 class="fw-semibold mb-0">UpdatedTime</h6>
          </th>
          <th class="border-bottom-0">
            <h6 class="fw-semibold mb-0">Visibility</h6>
          </th>
          <th class="border-bottom-0">
            <h6 class="fw-semibold mb-0">Action</h6>
          </th>
        </tr>
      </thead>
      <tbody>
            @foreach (var data in Model)
            {
            <tr>
              <td class="border-bottom-0">
                        @data.Id
              </td>
              <td class="border-bottom-0">
                <img src="@data.ImageUrl" width="50" />
              </td>
              <td class="border-bottom-0">
                        @data.Title
              </td>
              <td class="border-bottom-0">
                        @data.Subtitle
              </td>
              <td class="border-bottom-0">
                        @data.Discount
              </td>
              <td class="border-bottom-0">
                        @data.CreatedTime
              </td>
              <td class="border-bottom-0">
                        @data.UpdatedTime
              </td>
              <td>
                <div class="form-check form-switch">
                      <input class="form-check-input change-visibility" type="checkbox" style = "width:3.20em; height:1.70em" slider-id="@data.Id" checked="!@data.IsDeleted">
                </div>
              </td>
              <td>
                <a asp-action="Update" asp-route-id="@data.Id" class="btn  btn-warning">Edit</a>
                <a asp-action="Delete" asp-route-id="@data.Id" class="btn btn-danger">Delete</a>
              </td>
            </tr>
            }
      </tbody>
    </table>
  </div>
  @section styles{
          <link href ="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/css/toastr.min.css" rel="stylesheet"/>
  }
  @section scripts{
      <script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/js/toastr.min.js"></script>
      <script>
    Command: 

    toastr.options = {
      "closeButton": false,
      "debug": false,
      "newestOnTop": false,
      "progressBar": true,
      "positionClass": "toast-top-right",
      "preventDuplicates": false,
      "onclick": null,
      "showDuration": "300",
      "hideDuration": "600",
      "timeOut": "2500",
      "extendedTimeOut": "1000",
      "showEasing": "linear",
      "hideEasing": "linear",
      "showMethod": "fadeIn",
      "hideMethod": "fadeOut"
    }
          let inputs = document.getElementsByClassName("change-visibility");
          inputs.forEach(i=>{
              i.addEventListener("change",()=>{
                          fetch("http://localhost:5197/Admin/Slider/ChangeVisibility/" + i.getAttribute("slider-id"))
                      .then(res=>{
                          if(res.status == 200){
                                  toastr["success"]("Status dəyişdirildi")
                              }
                          else{
                                       toastr["success"]("Xəta baş verdi")
                          }
                      })
                          .catch(err=> toastr["success"]("Xəta baş verdi"))                
              });
          })
      </script>
  }